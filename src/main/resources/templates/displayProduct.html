<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Detail</title>
    <link th:insert="~{index::webicon}">
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>

<body>
<div th:insert="~{index::topbar}"></div>
<div class="container">
    <header>
        <div th:insert="~{index::logo}"></div>
        <div th:insert="~{index::icon-cart}"></div>
    </header>
    <div class="d-title">
        PRODUCT DETAILS
    </div>
    <div class="detail">
        <div class="image">
            <img th:src="@{${product.imagePathName}}" alt="${product.name}">
        </div>
        <div class="content">
            <div class="name" th:text="${product.name}"></div>
            <div class="price" th:text="'SG$' + ${product.unitPrice}"></div>
            <div class="buttons">
                <button>Check Out</button>
                <button class="addCart">
                    Add To cart
                    <svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="48" height="48" fill="none" viewBox="0 0 24 24">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 4h1.5L9 16m0 0h8m-8 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm8 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm-8.5-3h9.25L19 7H7.312"/>
                    </svg>
                </button>
            </div>
            <div class="description" th:text="${product.description}"></div>
            <div class="avgRating" >General Rating:
                <span th:text="${avgrating}"></span>
            </div>
        </div>
    </div>
    <div class="reviews">
        <div class="title"><p>Customer Reviews</p></div>
        <div class="comments-list"
             th:each="review, iterStat:${reviews}"
             th:if="${iterStat.index < 2}">
            <div class="comment">
                <table>
                    <tr>

                        <!--        userid                    -->
                        <!--                            <td class="comment-author" th:text="${review.user.id}"></td>-->
                        <td class="comment-author">userId</td>
                        <td class="comment-text" th:text="${review.comment}"></td>
                        <td class="comment-rating" th:text="${'Rating: ' + review.rating}"></td>
                    </tr>
                </table>
            </div>
        </div>
        <div class="view-more">
            <a th:href="@{/orangestore/products/details/{id}/reviews(id=${product.id})}"
               class="view-more-button">View More</a>
        </div>
    </div>
    <div class="sp-title"><p>Similar Product</p></div>
    <div class="listProducts">

    </div>
</div>
</body>
</html>